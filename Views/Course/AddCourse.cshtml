@model CourseModel;

@{
  ViewData["Title"] = "Add Course";
}

<nav class="navbar bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="\lib\images\nscc-logo.jpg" alt="nscc-logo" width="200px" class="d-inline-block ms-3">
    </a>
    <form method="post" asp-controller="Admin" asp-action="Logout">
      <button type="submit" class="btn btn-warning me-3">Logout</button>
    </form>
  </div>
</nav>

<div class="container mt-5 text-white">
  <h1 class="mb-4">Add Course</h1>
  <div style="margin-bottom:10px" class="fs-5">Enter the new Course data below:</div>


  <form asp-controller="Course" asp-action="AddCourseSubmit" method="post">

    @if (Model != null)
    {
      @* -------------------------------------------------------------------- displaying the name of the porgram
    they are adding a course to.*@
      @* <div class="mb-4">
    <label class="pb-2">Program:</label>
    <input type="text" id="programName" class="form-control"
    value="@($"{Model.Item1.Name} (Year {Model.Item1.Year})")" readonly />
    <input type="hidden" id="programId" name="programId" value="@Model.Item1.Id" />
    </div> *@
    }


    <div class="mb-4">
      <label asp-for="IdProgram" class="control-label">Program</label>
      <select asp-for="IdProgram" class="form-control" asp-items="ViewBag.IdProgram">
      </select>
    </div>

    <div class="mb-4">
      <label asp-for="Code" class="control-label">Course Code</label>
      <input asp-for="Code" class="form-control" />
      <span asp-validation-for="Code" class="text-danger"></span>
    </div>

    <div class="mb-4">
      <label asp-for="Name" class="control-label">Course Name</label>
      <input asp-for="Name" class="form-control" />
      <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="mb-4">
      <label asp-for="IdProfessor" class="control-label">Professor</label>
      <div class="d-flex flex-row pr-3">
        <select asp-for=" IdProfessor" class="form-control" asp-items="ViewBag.IdProfessor">
          <option value="">Please select a professor</option>
        </select>
        <div>
          <a asp-controller="Login" asp-action="AddUser" class="text-white add-professor"
            style="text-decoration: none">
            <i class="fa fa-plus bg-warning p-2 rounded"></i>
          </a>Add New
          Faculty Member
        </div>
      </div>
    </div>

    <div class=" mb-4">
      <label asp-for="Hours" class="control-label">Hours</label>
      <input asp-for="Hours" type="radio" value="60" checked /> 60 hours
      <input asp-for="Hours" type="radio" value="90" /> 90 hours
      @* <span asp-validation-for="Hours" class="text-danger"></span> *@
    </div>

      <div class="mb-4">
          <label>Tecnologias</label>
          @foreach(var tech in ViewBag.Technologies as List<TechnologyModel>)
          {
              <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="SelectedTechnologyIds" value="@tech.Id" @(Model.SelectedTechnologyIds.Contains(tech.Id) ? "checked" : "")>
                  <label class="form-check-label">@tech.Description</label>
              </div>
          }
      </div>


    <div class="mb-4">
      <input type="submit" class="btn btn-warning" value="Add" />
      <a asp-controller="Admin" asp-action="Index"
        class="btn btn-warning">Cancel</a>
    </div>
  </form>
</div>

@section Scripts {
  @{
    await Html.RenderPartialAsync("_ValidationScriptsPartial");
  }
}
